{% extends 'base.html' %}

{% block title %}{{ job.title }} Applications{% endblock %}
{% block stylesheets %}
{% endblock %}

{% block content %}
    <h1>{{ job.title }} Applications</h1>
<p>Viewing {{ total_applications }} applications.</p>

<h2>Applications</h2>

<h3>Filters</h3>
<ul style="margin-bottom: 1em;">
    {{ filter_html|safe }}
</ul>

<table border='1' style="width: 100%;">
{% for id, application in applications.items %}
    {% if forloop.first %}
        <tr>
            <th>Name</th>
            <th>Prior DA</th>
            <th>Hours Available</th>
            <th>Will Live On Campus</th>
            {% for hall,rank in application.placement_preferences.items %}
                <th>{{ hall }}</th>
            {% endfor %}
            <th>Status</th>
        </tr>
    {% endif %}
    <tr>
        <td><a href="{{ id }}/">{{ application.name }}</a></td>
        <td><img src="/media/admin/img/admin/icon-{{ application.prior_da|yesno:"yes,no" }}.gif" /></td>
        <td>{{ application.hours_available }}</td>
        <td><img src="/media/admin/img/admin/icon-{{ application.on_campus|yesno:"yes,no" }}.gif" /> {{ application.on_campus_where }}</td>
        {% for hall,rank in application.placement_preferences.items %}
            <td>{{ rank }}</td>
        {% endfor %}
        <td>{{ application.process_status }} {% ifequal application.process_status 'hired' %}{{ application.hours_hired_for }}{% endifequal %}</td>
    </tr>
{% endfor %}
</table>

{% endblock %}
